# üìÅ –ü–æ–≤–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É Contacts API

```
contacts-api/
‚îú‚îÄ‚îÄ app/                           # –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ –¥–æ–¥–∞—Ç–∫—É
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py               # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–∞–∫–µ—Ç—É
‚îÇ   ‚îú‚îÄ‚îÄ main.py                   # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ database.py               # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è SQLAlchemy
‚îÇ   ‚îú‚îÄ‚îÄ models.py                 # –ú–æ–¥–µ–ª—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py                # Pydantic —Å—Ö–µ–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ crud.py                   # CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îî‚îÄ‚îÄ routers/                  # API —Ä–æ—É—Ç–µ—Ä–∏
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îî‚îÄ‚îÄ contacts.py           # Endpoints –¥–ª—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
‚îú‚îÄ‚îÄ tests/                        # –¢–µ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py              # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è pytest
‚îÇ   ‚îî‚îÄ‚îÄ test_contacts.py         # –¢–µ—Å—Ç–∏ API –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
‚îú‚îÄ‚îÄ scripts/                      # –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ seed_data.py             # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ alembic/                      # –ú—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ versions/                # –§–∞–π–ª–∏ –º—ñ–≥—Ä–∞—Ü—ñ–π
‚îÇ   ‚îú‚îÄ‚îÄ env.py                   # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Alembic
‚îÇ   ‚îú‚îÄ‚îÄ script.py.mako           # –®–∞–±–ª–æ–Ω –º—ñ–≥—Ä–∞—Ü—ñ–π
‚îÇ   ‚îî‚îÄ‚îÄ README                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Alembic
‚îú‚îÄ‚îÄ .env                         # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ .env.example                 # –ü—Ä–∏–∫–ª–∞–¥ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ .gitignore                   # Git ignore —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ .dockerignore                # Docker ignore —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ pyproject.toml               # Poetry –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ poetry.lock                  # Lock —Ñ–∞–π–ª Poetry
‚îú‚îÄ‚îÄ alembic.ini                  # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Alembic
‚îú‚îÄ‚îÄ Dockerfile                   # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ docker-compose.yml           # Docker Compose
‚îî‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É
```

## üóÇ –û–ø–∏—Å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π

### `/app` - –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥
- **main.py** - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É FastAPI –¥–æ–¥–∞—Ç–∫—É
- **database.py** - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î
- **models.py** - SQLAlchemy –º–æ–¥–µ–ª—ñ —Ç–∞–±–ª–∏—Ü—å
- **schemas.py** - Pydantic —Å—Ö–µ–º–∏ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- **crud.py** - —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ë–î
- **routers/** - API endpoints –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞ –º–æ–¥—É–ª—è–º–∏

### `/tests` - –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **conftest.py** - —Ñ—ñ–∫—Å—Ç—É—Ä–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è pytest
- **test_contacts.py** - —Ç–µ—Å—Ç–∏ –¥–ª—è API –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
- **test_*.py** - –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–µ—Å—Ç–∏ (–∑–∞ –ø–æ—Ç—Ä–µ–±–æ—é)

### `/scripts` - –£—Ç–∏–ª—ñ—Ç–∏
- **seed_data.py** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
- **backup.py** - —Ä–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- **migrate.py** - –¥–æ–ø–æ–º—ñ–∂–Ω—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

### `/alembic` - –ú—ñ–≥—Ä–∞—Ü—ñ—ó
- **versions/** - —ñ—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω —Å—Ö–µ–º–∏ –ë–î
- **env.py** - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ Alembic
- **script.py.mako** - —à–∞–±–ª–æ–Ω –¥–ª—è –Ω–æ–≤–∏—Ö –º—ñ–≥—Ä–∞—Ü—ñ–π

## üìã –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏

### –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π:

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
mkdir -p contacts-api/{app/routers,tests,scripts,alembic/versions}

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ä–æ–∂–Ω—ñ—Ö __init__.py —Ñ–∞–π–ª—ñ–≤
touch contacts-api/app/__init__.py
touch contacts-api/app/routers/__init__.py
touch contacts-api/tests/__init__.py

# –ü–µ—Ä–µ—Ö—ñ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –ø—Ä–æ–µ–∫—Ç—É
cd contacts-api

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Poetry –ø—Ä–æ–µ–∫—Ç—É
poetry init

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
poetry shell
```

### –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤:

1. **–ë–∞–∑–æ–≤—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏:**
   ```bash
   # Poetry —Ç–∞ Python
   pyproject.toml
   .env.example
   .gitignore
   .dockerignore
   
   # Docker
   Dockerfile
   docker-compose.yml
   ```

2. **–û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ –¥–æ–¥–∞—Ç–∫—É:**
   ```bash
   app/__init__.py
   app/database.py      # –°–ø–æ—á–∞—Ç–∫—É –ë–î
   app/models.py        # –ü–æ—Ç—ñ–º –º–æ–¥–µ–ª—ñ
   app/schemas.py       # –°—Ö–µ–º–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
   app/crud.py          # CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó
   app/routers/__init__.py
   app/routers/contacts.py  # API endpoints
   app/main.py          # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª (–æ—Å—Ç–∞–Ω–Ω—ñ–º)
   ```

3. **–î–æ–ø–æ–º—ñ–∂–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏:**
   ```bash
   scripts/seed_data.py
   ```

4. **–¢–µ—Å—Ç–∏:**
   ```bash
   tests/__init__.py
   tests/conftest.py
   tests/test_contacts.py
   ```

5. **–ú—ñ–≥—Ä–∞—Ü—ñ—ó (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):**
   ```bash
   alembic.ini
   alembic/env.py
   alembic/script.py.mako
   ```

6. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:**
   ```bash
   README.md
   ```

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Alembic

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Alembic –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ–π:

```bash
# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Alembic
alembic init alembic

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—à–æ—ó –º—ñ–≥—Ä–∞—Ü—ñ—ó
alembic revision --autogenerate -m "Create contacts table"

# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ–π
alembic upgrade head
```

## üîß –ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç—É

### 1. –ü–æ—á–∞—Ç–∫–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
```bash
# –ö–ª–æ–Ω—É–≤–∞—Ç–∏/—Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç
git clone <repo> && cd contacts-api

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
poetry install

# –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
cp .env.example .env
```

### 2. –ó–∞–ø—É—Å–∫ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:
```bash
# –ß–µ—Ä–µ–∑ Docker
docker run --name postgres \
  -e POSTGRES_PASSWORD=password \
  -p 5432:5432 -d postgres:15

# –ê–±–æ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up -d db
```

### 3. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–∏—Ö:
```bash
# –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
poetry shell

# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
python scripts/seed_data.py
```

### 4. –ó–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É:
```bash
# –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏
uvicorn app.main:app --reload

# –ê–±–æ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up -d web
```

### 5. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏:
```bash
# –¢–µ—Å—Ç API
curl http://localhost:8000/health

# –í—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
open http://localhost:8000/docs
```

## üìù –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Poetry (`pyproject.toml`)
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (`.env.example`)
- [ ] –ù–∞–ø–∏—Å–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ (`app/`)
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Docker (`Dockerfile`, `docker-compose.yml`)
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ (`scripts/seed_data.py`)
- [ ] –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ (`tests/`)
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Git (`.gitignore`)
- [ ] –ù–∞–ø–∏—Å–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é (`README.md`)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ Docker –∑–∞–ø—É—Å–∫

## üéØ –§—ñ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞

–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ñ–∞–π–ª—ñ–≤, –ø—Ä–æ–µ–∫—Ç –ø–æ–≤–∏–Ω–µ–Ω:

1. ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç–∏—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ Poetry
2. ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç–∏—Å—è —á–µ—Ä–µ–∑ Docker Compose
3. ‚úÖ –ú–∞—Ç–∏ —Ä–æ–±–æ—á—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é API
4. ‚úÖ –ü—Ä–æ—Ö–æ–¥–∏—Ç–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏
5. ‚úÖ –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
6. ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤—Å—ñ CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó
7. ‚úÖ –ú–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –ø–æ—à—É–∫—É
8. ‚úÖ –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞–π–±–ª–∏–∂—á—ñ –¥–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è! üöÄ