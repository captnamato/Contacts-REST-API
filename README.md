# ๐ฑ Contacts REST API

REST API ะดะปั ัะฟัะฐะฒะปัะฝะฝั ะบะพะฝัะฐะบัะฐะผะธ, ะฟะพะฑัะดะพะฒะฐะฝะธะน ะท ะฒะธะบะพัะธััะฐะฝะฝัะผ FastAPI, SQLAlchemy ัะฐ PostgreSQL.

## ๐ ะัะพะฑะปะธะฒะพััั

- โ **CRUD ะพะฟะตัะฐััั** - ะฟะพะฒะฝะธะน ะฝะฐะฑัั ะพะฟะตัะฐััะน ะดะปั ัะฟัะฐะฒะปัะฝะฝั ะบะพะฝัะฐะบัะฐะผะธ
- ๐ **ะะพััะบ ะบะพะฝัะฐะบััะฒ** - ะทะฐ ัะผ'ัะผ, ะฟััะทะฒะธัะตะผ ะฐะฑะพ email
- ๐ **ะะฝั ะฝะฐัะพะดะถะตะฝะฝั** - ะพััะธะผะฐะฝะฝั ะบะพะฝัะฐะบััะฒ ะท ะะ ะฝะฐ ะฝะฐะนะฑะปะธะถัั 7 ะดะฝัะฒ
- โจ **ะะฐะปัะดะฐััั ะดะฐะฝะธั** - ะฒะธะบะพัะธััะฐะฝะฝั Pydantic ะดะปั ะฟะตัะตะฒััะบะธ ะฒััะดะฝะธั ะดะฐะฝะธั
- ๐ **ะะฒัะพะดะพะบัะผะตะฝัะฐััั** - Swagger UI ัะฐ ReDoc
- ๐ณ **Docker ะฟัะดััะธะผะบะฐ** - ะฟะพะฒะฝะฐ ะบะพะฝัะตะนะฝะตัะธะทะฐััั ะท Docker Compose
- ๐ญ **ะขะตััะพะฒั ะดะฐะฝั** - ะณะตะฝะตัะฐััั ัะตะฐะปัััะธัะฝะธั ะดะฐะฝะธั ะท Faker

## ๐ ะขะตัะฝะพะปะพะณััะฝะธะน ััะตะบ

- **FastAPI** - ัััะฐัะฝะธะน ะฒะตะฑ-ััะตะนะผะฒะพัะบ ะดะปั Python
- **SQLAlchemy** - ORM ะดะปั ัะพะฑะพัะธ ะท ะฑะฐะทะพั ะดะฐะฝะธั
- **PostgreSQL** - ัะตะปัััะนะฝะฐ ะฑะฐะทะฐ ะดะฐะฝะธั
- **Pydantic** - ะฒะฐะปัะดะฐััั ัะฐ ัะตััะฐะปัะทะฐััั ะดะฐะฝะธั
- **Poetry** - ัะฟัะฐะฒะปัะฝะฝั ะทะฐะปะตะถะฝะพัััะผะธ
- **Docker** - ะบะพะฝัะตะนะฝะตัะธะทะฐััั
- **Faker** - ะณะตะฝะตัะฐััั ัะตััะพะฒะธั ะดะฐะฝะธั

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัั

```
contacts-api/
โโโ app/
โ   โโโ __init__.py
โ   โโโ main.py                 # ะัะฝะพะฒะฝะธะน ัะฐะนะป ะดะพะดะฐัะบั
โ   โโโ database.py             # ะะฐะปะฐัััะฒะฐะฝะฝั ะะ
โ   โโโ models.py               # SQLAlchemy ะผะพะดะตะปั
โ   โโโ schemas.py              # Pydantic ััะตะผะธ
โ   โโโ crud.py                 # CRUD ะพะฟะตัะฐััั
โ   โโโ routers/
โ       โโโ __init__.py
โ       โโโ contacts.py         # API endpoints
โโโ scripts/
โ   โโโ seed_data.py           # ะขะตััะพะฒั ะดะฐะฝั
โโโ .env.example               # ะัะธะบะปะฐะด ะทะผัะฝะฝะธั ัะตัะตะดะพะฒะธัะฐ
โโโ pyproject.toml             # Poetry ะบะพะฝััะณััะฐััั
โโโ Dockerfile                 # Docker ะบะพะฝััะณััะฐััั
โโโ docker-compose.yml         # Docker Compose
โโโ .gitignore                 # Git ignore
โโโ README.md                  # ะะพะบัะผะตะฝัะฐััั
```

## โก ะจะฒะธะดะบะธะน ััะฐัั

### ะะตัะพะด 1: Docker (ัะตะบะพะผะตะฝะดะพะฒะฐะฝะพ)

```bash
# 1. ะะปะพะฝัะฒะฐัะธ ัะตะฟะพะทะธัะพััะน
git clone <repository-url>
cd contacts-api

# 2. ะกะบะพะฟััะฒะฐัะธ ะทะผัะฝะฝั ัะตัะตะดะพะฒะธัะฐ
cp .env.example .env

# 3. ะะฐะฟัััะธัะธ ะฒัั ัะตัะฒััะธ
docker-compose up -d

# 4. ะกัะฒะพัะธัะธ ัะตััะพะฒั ะดะฐะฝั
docker-compose exec web python scripts/seed_data.py

# 5. ะัะดะบัะธัะธ API ะดะพะบัะผะตะฝัะฐััั
# http://localhost:8000/docs
```

### ะะตัะพะด 2: ะะพะบะฐะปัะฝะธะน ัะพะทะฒะธัะพะบ

```bash
# 1. ะััะฐะฝะพะฒะธัะธ Poetry
curl -sSL https://install.python-poetry.org | python3 -

# 2. ะััะฐะฝะพะฒะธัะธ ะทะฐะปะตะถะฝะพััั
poetry install

# 3. ะกะบะพะฟััะฒะฐัะธ ัะฐ ะฝะฐะปะฐัััะฒะฐัะธ .env
cp .env.example .env

# 4. ะะฐะฟัััะธัะธ PostgreSQL
docker run --name postgres -e POSTGRES_PASSWORD=password -p 5432:5432 -d postgres:15

# 5. ะะบัะธะฒัะฒะฐัะธ ะฒััััะฐะปัะฝะต ัะตัะตะดะพะฒะธัะต
poetry shell

# 6. ะกัะฒะพัะธัะธ ัะตััะพะฒั ะดะฐะฝั
python scripts/seed_data.py

# 7. ะะฐะฟัััะธัะธ ะดะพะดะฐัะพะบ
uvicorn app.main:app --reload
```

## ๐ API ะะพะบัะผะตะฝัะฐััั

ะััะปั ะทะฐะฟััะบั ะดะพะดะฐัะบั ะดะพะบัะผะตะฝัะฐััั ะฑัะดะต ะดะพัััะฟะฝะฐ ะทะฐ ะฐะดัะตัะฐะผะธ:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc
- **ะัะฝะพะฒะฝะธะน endpoint**: http://localhost:8000/api/v1/contacts/

## ๐ API Endpoints

### ะะพะฝัะฐะบัะธ

| ะะตัะพะด | Endpoint | ะะฟะธั |
|-------|----------|------|
| `POST` | `/api/v1/contacts/` | ะกัะฒะพัะธัะธ ะฝะพะฒะธะน ะบะพะฝัะฐะบั |
| `GET` | `/api/v1/contacts/` | ะััะธะผะฐัะธ ัะฟะธัะพะบ ะบะพะฝัะฐะบััะฒ |
| `GET` | `/api/v1/contacts/{id}` | ะััะธะผะฐัะธ ะบะพะฝัะฐะบั ะทะฐ ID |
| `PUT` | `/api/v1/contacts/{id}` | ะะฝะพะฒะธัะธ ะบะพะฝัะฐะบั |
| `DELETE` | `/api/v1/contacts/{id}` | ะะธะดะฐะปะธัะธ ะบะพะฝัะฐะบั |
| `GET` | `/api/v1/contacts/birthdays` | ะะฝั ะฝะฐัะพะดะถะตะฝะฝั (7 ะดะฝัะฒ) |

### Query ะฟะฐัะฐะผะตััะธ ะดะปั ะฟะพััะบั

- `search` - ะฟะพััะบ ะทะฐ ัะผ'ัะผ, ะฟััะทะฒะธัะตะผ ะฐะฑะพ email
- `skip` - ะบัะปัะบัััั ะทะฐะฟะธััะฒ ะดะปั ะฟัะพะฟััะบั (ะฟะฐะณัะฝะฐััั)
- `limit` - ะผะฐะบัะธะผะฐะปัะฝะฐ ะบัะปัะบัััั ะทะฐะฟะธััะฒ (ะผะฐะบั. 1000)

## ๐ก ะัะธะบะปะฐะดะธ ะฒะธะบะพัะธััะฐะฝะฝั

### ะกัะฒะพัะตะฝะฝั ะบะพะฝัะฐะบัั

```bash
curl -X POST "http://localhost:8000/api/v1/contacts/" \
  -H "Content-Type: application/json" \
  -d '{
    "first_name": "ะะฒะฐะฝ",
    "last_name": "ะะตััะตะฝะบะพ",
    "email": "ivan.petrenko@example.com",
    "phone": "+380501234567",
    "birthday": "1990-05-15",
    "additional_info": "ะััะณ ะท ัะฝัะฒะตััะธัะตัั"
  }'
```

### ะััะธะผะฐะฝะฝั ะฒััั ะบะพะฝัะฐะบััะฒ

```bash
curl "http://localhost:8000/api/v1/contacts/"
```

### ะะพััะบ ะบะพะฝัะฐะบััะฒ

```bash
# ะะพััะบ ะทะฐ ัะผ'ัะผ
curl "http://localhost:8000/api/v1/contacts/?search=ะะฒะฐะฝ"

# ะะฐะณัะฝะฐััั
curl "http://localhost:8000/api/v1/contacts/?skip=10&limit=5"
```

### ะะฝั ะฝะฐัะพะดะถะตะฝะฝั

```bash
curl "http://localhost:8000/api/v1/contacts/birthdays"
```

### ะะฝะพะฒะปะตะฝะฝั ะบะพะฝัะฐะบัั

```bash
curl -X PUT "http://localhost:8000/api/v1/contacts/1" \
  -H "Content-Type: application/json" \
  -d '{
    "phone": "+380507654321",
    "additional_info": "ะะฝะพะฒะปะตะฝะฐ ัะฝัะพัะผะฐััั"
  }'
```

### ะะธะดะฐะปะตะฝะฝั ะบะพะฝัะฐะบัั

```bash
curl -X DELETE "http://localhost:8000/api/v1/contacts/1"
```

## ๐ ะกัััะบัััะฐ ะดะฐะฝะธั

### ะะพะดะตะปั ะบะพะฝัะฐะบัั

```json
{
  "id": 1,
  "first_name": "ะะฒะฐะฝ",
  "last_name": "ะะตััะตะฝะบะพ",
  "email": "ivan.petrenko@example.com",
  "phone": "+380501234567",
  "birthday": "1990-05-15",
  "additional_info": "ะะพะดะฐัะบะพะฒะฐ ัะฝัะพัะผะฐััั"
}
```

### ะะฐะปัะดะฐััั ะฟะพะปัะฒ

- `first_name`: 1-50 ัะธะผะฒะพะปัะฒ, ะพะฑะพะฒ'ัะทะบะพะฒะต
- `last_name`: 1-50 ัะธะผะฒะพะปัะฒ, ะพะฑะพะฒ'ัะทะบะพะฒะต
- `email`: ะฒะฐะปัะดะฝะธะน email, ัะฝัะบะฐะปัะฝะธะน, ะพะฑะพะฒ'ัะทะบะพะฒะธะน
- `phone`: 10-20 ัะธะผะฒะพะปัะฒ, ะพะฑะพะฒ'ัะทะบะพะฒะธะน
- `birthday`: ะดะฐัะฐ ั ัะพัะผะฐัั YYYY-MM-DD, ะพะฑะพะฒ'ัะทะบะพะฒะฐ
- `additional_info`: ะดะพ 500 ัะธะผะฒะพะปัะฒ, ะพะฟััะพะฝะฐะปัะฝะต

## ๐ง ะะฐะปะฐัััะฒะฐะฝะฝั

### ะะผัะฝะฝั ัะตัะตะดะพะฒะธัะฐ (.env)

```env
# ะะฐะทะฐ ะดะฐะฝะธั
DATABASE_URL=postgresql://postgres:password@localhost:5432/contacts_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=contacts_db

# ะะพะดะฐัะพะบ
DEBUG=True
HOST=0.0.0.0
PORT=8000
```

## ๐ณ Docker ัะตัะฒััะธ

- **web** - FastAPI ะดะพะดะฐัะพะบ (ะฟะพัั 8000)
- **db** - PostgreSQL ะฑะฐะทะฐ ะดะฐะฝะธั (ะฟะพัั 5432)
- **adminer** - ะฒะตะฑ-ัะฝัะตััะตะนั ะดะปั ัะฟัะฐะฒะปัะฝะฝั ะะ (ะฟะพัั 8080)

### ะะพัะธัะฝั Docker ะบะพะผะฐะฝะดะธ

```bash
# ะะตัะตะณะปัะฝััะธ ะปะพะณะธ
docker-compose logs -f web

# ะะตัะตะทะฐะฟัััะธัะธ ัะตัะฒัั
docker-compose restart web

# ะัะฟะธะฝะธัะธ ะฒัั ัะตัะฒััะธ
docker-compose down

# ะะธะดะฐะปะธัะธ ะดะฐะฝั ะะ
docker-compose down -v
```

## ๐งช ะขะตัััะฒะฐะฝะฝั

```bash
# ะััะฐะฝะพะฒะธัะธ ะทะฐะปะตะถะฝะพััั ะดะปั ัะพะทัะพะฑะบะธ
poetry install --with dev

# ะะฐะฟัััะธัะธ ัะตััะธ
pytest

# ะขะตััะธ ะท ะฟะพะบัะธัััะผ
pytest --cov=app
```

## ๐ ะะพะณัะฒะฐะฝะฝั ัะฐ ะผะพะฝััะพัะธะฝะณ

ะะพะดะฐัะพะบ ะฟัะดััะธะผัั ััะฐะฝะดะฐััะฝะต ะปะพะณัะฒะฐะฝะฝั Python. ะะพะณะธ ะฒะบะปััะฐััั:

- HTTP ะทะฐะฟะธัะธ ัะฐ ะฒัะดะฟะพะฒัะดั
- ะะพะผะธะปะบะธ ะฑะฐะทะธ ะดะฐะฝะธั
- ะะฐะปัะดะฐััะนะฝั ะฟะพะผะธะปะบะธ
- ะกะธััะตะผะฝั ะฟะพะดัั

## ๐ ะะพะทะณะพััะฐะฝะฝั ะฒ ะฟัะพะดะฐะบัะตะฝั

### ะะตะบะพะผะตะฝะดะฐััั ะดะปั ะฟัะพะดะฐะบัะตะฝั:

1. **ะะตะทะฟะตะบะฐ**:
   - ะะธะบะพัะธััะพะฒัะนัะต HTTPS
   - ะะฐะปะฐัััะนัะต CORS ะฒัะดะฟะพะฒัะดะฝะพ ะดะพ ะฒะฐัะธั ะฟะพััะตะฑ
   - ะะธะบะพัะธััะพะฒัะนัะต ัะธะปัะฝั ะฟะฐัะพะปั ะดะปั ะะ

2. **ะะฐะทะฐ ะดะฐะฝะธั**:
   - ะะธะบะพัะธััะพะฒัะนัะต connection pooling
   - ะะฐะปะฐัััะนัะต backup'ะธ
   - ะะพะฝััะพัะธะฝะณ ะฟัะพะดัะบัะธะฒะฝะพััั

3. **ะะฐัััะฐะฑัะฒะฐะฝะฝั**:
   - ะะธะบะพัะธััะพะฒัะนัะต reverse proxy (nginx)
   - ะะฐะปะฐัััะนัะต load balancing
   - ะะพะฝััะพัะธะฝะณ ัะตัััััะฒ

### Docker Compose ะดะปั ะฟัะพะดะฐะบัะตะฝั

```yaml
# docker-compose.prod.yml
version: '3.8'
services:
  web:
    build: .
    environment:
      - DEBUG=False
    restart: unless-stopped
  
  db:
    image: postgres:15
    restart: unless-stopped
    volumes:
      - postgres_data:/var/lib/postgresql/data
```

## ๐ค ะะฝะตัะพะบ ั ะฟัะพะตะบั

1. ะคะพัะบะฝััั ัะตะฟะพะทะธัะพััะน
2. ะกัะฒะพัััั ะฝะพะฒั ะณัะปะบั (`git checkout -b feature/amazing-feature`)
3. ะัะพะฑััั ะบะพะผัั (`git commit -m 'Add amazing feature'`)
4. ะะฟััััะต ะณัะปะบั (`git push origin feature/amazing-feature`)
5. ะัะดะบัะธะนัะต Pull Request

## ๐ ะััะตะฝะทัั

ะฆะตะน ะฟัะพะตะบั ะฟะพัะธััััััั ะฟัะด ะปััะตะฝะทััั MIT. ะะตัะฐะปัะฝััะต ะฒ ัะฐะนะปั `LICENSE`.

## ๐ ะัะดััะธะผะบะฐ

ะฏะบัะพ ั ะฒะฐั ะฒะธะฝะธะบะปะธ ะฟะธัะฐะฝะฝั ะฐะฑะพ ะฟัะพะฑะปะตะผะธ:

1. ะะตัะตะฒัััะต [Issues](../../issues) ะฝะฐ GitHub
2. ะกัะฒะพัััั ะฝะพะฒะธะน Issue ะท ะดะตัะฐะปัะฝะธะผ ะพะฟะธัะพะผ ะฟัะพะฑะปะตะผะธ
3. ะะฐะดะฐะนัะต ัะฝัะพัะผะฐััั ะฟัะพ ะฒะตัััั Python, ะะก ัะฐ ะฝะฐะปะฐัััะฒะฐะฝะฝั

## ๐ ะกัะฐััั ะฟัะพะตะบัั

- โ ะะฐะทะพะฒั CRUD ะพะฟะตัะฐััั
- โ ะะพััะบ ัะฐ ััะปัััะฐััั
- โ ะะฐะปัะดะฐััั ะดะฐะฝะธั
- โ Docker ะฟัะดััะธะผะบะฐ
- โ API ะดะพะบัะผะตะฝัะฐััั
- โณ ะะฒัะตะฝัะธััะบะฐััั (ะฟะปะฐะฝัััััั)
- โณ Rate limiting (ะฟะปะฐะฝัััััั)
- โณ ะขะตััะธ ะฟะพะบัะธััั >90% (ะฒ ัะพะทัะพะฑัั)